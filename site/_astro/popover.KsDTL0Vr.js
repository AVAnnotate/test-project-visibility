import{r as a,R as C,a as mn}from"./index.DNi1g-pO.js";import{a as rt,o as L,W as q,H as ne,m as gn,n as z,s as de,u as re,y as te,T as Ot,M as Le,D as Je,I as hn}from"./use-sync-refs.D0KZ01Xc.js";import{r as ve}from"./index.iExtbhlT.js";import{p as lt,o as it,t as vn,l as wn,c as yn,i as we,u as Mt,j as Ft,H as Lt,s as bn}from"./use-server-handoff-complete.BXIqNzS3.js";import{$ as xn,b as En}from"./label.BDZJ2zrY.js";function Te(e){return rt.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function Sn(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function Pn(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Rn({disabled:e=!1}={}){let t=a.useRef(null),[n,o]=a.useState(!1),r=lt(),l=L(()=>{t.current=null,o(!1),r.dispose()}),i=L(s=>{if(r.dispose(),t.current===null){t.current=s.currentTarget,o(!0);{let u=Te(s.currentTarget);r.addEventListener(u,"pointerup",l,!1),r.addEventListener(u,"pointermove",f=>{if(t.current){let c=Sn(f);o(Pn(c,t.current.getBoundingClientRect()))}},!1),r.addEventListener(u,"pointercancel",l,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:i,onPointerUp:l,onClick:l}}}function tl(e,t,n){let[o,r]=a.useState(n),l=e!==void 0,i=a.useRef(l),s=a.useRef(!1),u=a.useRef(!1);return l&&!i.current&&!s.current?(s.current=!0,i.current=l,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!l&&i.current&&!u.current&&(u.current=!0,i.current=l,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[l?e:o,L(f=>(l||r(f),t?.(f)))]}function nl(e){let[t]=a.useState(e);return t}function It(e={},t=null,n=[]){for(let[o,r]of Object.entries(e))Nt(n,Dt(t,o),r);return n}function Dt(e,t){return e?e+"["+t+"]":t}function Nt(e,t,n){if(Array.isArray(n))for(let[o,r]of n.entries())Nt(e,Dt(t,o.toString()),r);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):It(n,t,e)}function ol(e){var t,n;let o=(t=e?.form)!=null?t:e.closest("form");if(o){for(let r of o.elements)if(r!==e&&(r.tagName==="INPUT"&&r.type==="submit"||r.tagName==="BUTTON"&&r.type==="submit"||r.nodeName==="INPUT"&&r.type==="image")){r.click();return}(n=o.requestSubmit)==null||n.call(o)}}let Cn="span";var le=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(le||{});function Tn(e,t){var n;let{features:o=1,...r}=e,l={ref:t,"aria-hidden":(o&2)===2?!0:(n=r["aria-hidden"])!=null?n:void 0,hidden:(o&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(o&4)===4&&(o&2)!==2&&{display:"none"}}};return ne({ourProps:l,theirProps:r,slot:{},defaultTag:Cn,name:"Hidden"})}let pe=q(Tn),kt=a.createContext(null);function rl(e){let[t,n]=a.useState(null);return C.createElement(kt.Provider,{value:{target:t}},e.children,C.createElement(pe,{features:le.Hidden,ref:n}))}function $n({children:e}){let t=a.useContext(kt);if(!t)return C.createElement(C.Fragment,null,e);let{target:n}=t;return n?ve.createPortal(C.createElement(C.Fragment,null,e),n):null}function ll({data:e,form:t,disabled:n,onReset:o,overrides:r}){let[l,i]=a.useState(null),s=lt();return a.useEffect(()=>{if(o&&l)return s.addEventListener(l,"reset",o)},[l,t,o]),C.createElement($n,null,C.createElement(An,{setForm:i,formId:t}),It(e).map(([u,f])=>C.createElement(pe,{features:le.Hidden,...gn({key:u,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:u,value:f,...r})})))}function An({setForm:e,formId:t}){return a.useEffect(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:C.createElement(pe,{features:le.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let o=n.closest("form");o&&e(o)}})}function Ht(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let o=t?.getAttribute("disabled")==="";return o&&On(n)?!1:o}function On(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}var oe=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(oe||{});let Mn=a.createContext(()=>{});function Fn({value:e,children:t}){return C.createElement(Mn.Provider,{value:e},t)}function Ln(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function In(e,t=!1){let[n,o]=a.useReducer(()=>({}),{}),r=a.useMemo(()=>Ln(e),[e,n]);return z(()=>{if(!e)return;let l=new ResizeObserver(o);return l.observe(e),()=>{l.disconnect()}},[e]),t?{width:`${r.width}px`,height:`${r.height}px`}:r}let Dn=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function Bt(e,t){let n=e(),o=new Set;return{getSnapshot(){return n},subscribe(r){return o.add(r),()=>o.delete(r)},dispatch(r,...l){let i=t[r].call(n,...l);i&&(n=i,o.forEach(s=>s()))}}}function _t(e){return a.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let Nn=new Dn(()=>Bt(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function Wt(e,t){let n=Nn.get(t),o=a.useId(),r=_t(n);if(z(()=>{if(e)return n.dispatch("ADD",o),()=>n.dispatch("REMOVE",o)},[n,e]),!e)return!1;let l=r.indexOf(o),i=r.length;return l===-1&&(l=i,i+=1),l===i-1}function kn(e,t,n){let o=de(r=>{let l=r.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&n()});a.useEffect(()=>{if(!e)return;let r=t===null?null:t instanceof HTMLElement?t:t.current;if(!r)return;let l=it();if(typeof ResizeObserver<"u"){let i=new ResizeObserver(()=>o.current(r));i.observe(r),l.add(()=>i.disconnect())}if(typeof IntersectionObserver<"u"){let i=new IntersectionObserver(()=>o.current(r));i.observe(r),l.add(()=>i.disconnect())}return()=>l.dispose()},[t,o,e])}let Qe=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Hn=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Z=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Z||{}),Ie=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Ie||{}),Bn=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Bn||{});function He(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Qe)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function _n(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Hn)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var st=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(st||{});function Vt(e,t=0){var n;return e===((n=Te(e))==null?void 0:n.body)?!1:re(t,{0(){return e.matches(Qe)},1(){let o=e;for(;o!==null;){if(o.matches(Qe))return!0;o=o.parentElement}return!1}})}var Wn=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Wn||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let Vn=["textarea","input"].join(",");function Un(e){var t,n;return(n=(t=e?.matches)==null?void 0:t.call(e,Vn))!=null?n:!1}function jn(e,t=n=>n){return e.slice().sort((n,o)=>{let r=t(n),l=t(o);if(r===null||l===null)return 0;let i=r.compareDocumentPosition(l);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ae(e,t,{sorted:n=!0,relativeTo:o=null,skipElements:r=[]}={}){let l=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,i=Array.isArray(e)?n?jn(e):e:t&64?_n(e):He(e);r.length>0&&i.length>1&&(i=i.filter(d=>!r.some(p=>p!=null&&"current"in p?p?.current===d:p===d))),o=o??l.activeElement;let s=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,i.indexOf(o))-1;if(t&4)return Math.max(0,i.indexOf(o))+1;if(t&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},c=0,g=i.length,m;do{if(c>=g||c+g<=0)return 0;let d=u+c;if(t&16)d=(d+g)%g;else{if(d<0)return 3;if(d>=g)return 1}m=i[d],m?.focus(f),c+=s}while(m!==l.activeElement);return t&6&&Un(m)&&m.select(),2}function Ut(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Yn(){return/Android/gi.test(window.navigator.userAgent)}function Xn(){return Ut()||Yn()}function Pe(e,t,n,o){let r=de(n);a.useEffect(()=>{if(!e)return;function l(i){r.current(i)}return document.addEventListener(t,l,o),()=>document.removeEventListener(t,l,o)},[e,t,o])}function jt(e,t,n,o){let r=de(n);a.useEffect(()=>{if(!e)return;function l(i){r.current(i)}return window.addEventListener(t,l,o),()=>window.removeEventListener(t,l,o)},[e,t,o])}const ht=30;function Gn(e,t,n){let o=Wt(e,"outside-click"),r=de(n),l=a.useCallback(function(u,f){if(u.defaultPrevented)return;let c=f(u);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let g=function m(d){return typeof d=="function"?m(d()):Array.isArray(d)||d instanceof Set?d:[d]}(t);for(let m of g)if(m!==null&&(m.contains(c)||u.composed&&u.composedPath().includes(m)))return;return!Vt(c,st.Loose)&&c.tabIndex!==-1&&u.preventDefault(),r.current(u,c)},[r,t]),i=a.useRef(null);Pe(o,"pointerdown",u=>{var f,c;i.current=((c=(f=u.composedPath)==null?void 0:f.call(u))==null?void 0:c[0])||u.target},!0),Pe(o,"mousedown",u=>{var f,c;i.current=((c=(f=u.composedPath)==null?void 0:f.call(u))==null?void 0:c[0])||u.target},!0),Pe(o,"click",u=>{Xn()||i.current&&(l(u,()=>i.current),i.current=null)},!0);let s=a.useRef({x:0,y:0});Pe(o,"touchstart",u=>{s.current.x=u.touches[0].clientX,s.current.y=u.touches[0].clientY},!0),Pe(o,"touchend",u=>{let f={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(f.x-s.current.x)>=ht||Math.abs(f.y-s.current.y)>=ht))return l(u,()=>u.target instanceof HTMLElement?u.target:null)},!0),jt(o,"blur",u=>l(u,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function xe(...e){return a.useMemo(()=>Te(...e),[...e])}function zn(e,t,n,o){let r=de(n);a.useEffect(()=>{e=e??window;function l(i){r.current(i)}return e.addEventListener(t,l,o),()=>e.removeEventListener(t,l,o)},[e,t,o])}function Kn(e,t){return a.useMemo(()=>{var n;if(e.type)return e.type;let o=(n=e.as)!=null?n:"button";if(typeof o=="string"&&o.toLowerCase()==="button"||t?.tagName==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function qn(){let e;return{before({doc:t}){var n;let o=t.documentElement,r=(n=t.defaultView)!=null?n:window;e=Math.max(0,r.innerWidth-o.clientWidth)},after({doc:t,d:n}){let o=t.documentElement,r=Math.max(0,o.clientWidth-o.offsetWidth),l=Math.max(0,e-r);n.style(o,"paddingRight",`${l}px`)}}}function Jn(){return Ut()?{before({doc:e,d:t,meta:n}){function o(r){return n.containers.flatMap(l=>l()).some(l=>l.contains(r))}t.microTask(()=>{var r;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let s=it();s.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>s.dispose()))}let l=(r=window.scrollY)!=null?r:window.pageYOffset,i=null;t.addEventListener(e,"click",s=>{if(s.target instanceof HTMLElement)try{let u=s.target.closest("a");if(!u)return;let{hash:f}=new URL(u.href),c=e.querySelector(f);c&&!o(c)&&(i=c)}catch{}},!0),t.addEventListener(e,"touchstart",s=>{if(s.target instanceof HTMLElement)if(o(s.target)){let u=s.target;for(;u.parentElement&&o(u.parentElement);)u=u.parentElement;t.style(u,"overscrollBehavior","contain")}else t.style(s.target,"touchAction","none")}),t.addEventListener(e,"touchmove",s=>{if(s.target instanceof HTMLElement){if(s.target.tagName==="INPUT")return;if(o(s.target)){let u=s.target;for(;u.parentElement&&u.dataset.headlessuiPortal!==""&&!(u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth);)u=u.parentElement;u.dataset.headlessuiPortal===""&&s.preventDefault()}else s.preventDefault()}},{passive:!1}),t.add(()=>{var s;let u=(s=window.scrollY)!=null?s:window.pageYOffset;l!==u&&window.scrollTo(0,l),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function Qn(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Zn(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let fe=Bt(()=>new Map,{PUSH(e,t){var n;let o=(n=this.get(e))!=null?n:{doc:e,count:0,d:it(),meta:new Set};return o.count++,o.meta.add(t),this.set(e,o),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let o={doc:e,d:t,meta:Zn(n)},r=[Jn(),qn(),Qn()];r.forEach(({before:l})=>l?.(o)),r.forEach(({after:l})=>l?.(o))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});fe.subscribe(()=>{let e=fe.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let o=t.get(n.doc)==="hidden",r=n.count!==0;(r&&!o||!r&&o)&&fe.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&fe.dispatch("TEARDOWN",n)}});function eo(e,t,n=()=>({containers:[]})){let o=_t(fe),r=t?o.get(t):void 0,l=r?r.count>0:!1;return z(()=>{if(!(!t||!e))return fe.dispatch("PUSH",t,n),()=>fe.dispatch("POP",t,n)},[e,t]),l}function to(e,t,n=()=>[document.body]){let o=Wt(e,"scroll-lock");eo(o,t,r=>{var l;return{containers:[...(l=r.containers)!=null?l:[],n]}})}function Be(){return typeof window<"u"}function Ee(e){return Yt(e)?(e.nodeName||"").toLowerCase():"#document"}function X(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function J(e){var t;return(t=(Yt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Yt(e){return Be()?e instanceof Node||e instanceof X(e).Node:!1}function U(e){return Be()?e instanceof Element||e instanceof X(e).Element:!1}function K(e){return Be()?e instanceof HTMLElement||e instanceof X(e).HTMLElement:!1}function vt(e){return!Be()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof X(e).ShadowRoot}function $e(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=G(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(r)}function no(e){return["table","td","th"].includes(Ee(e))}function _e(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ut(e){const t=ct(),n=U(e)?G(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function oo(e){let t=ie(e);for(;K(t)&&!ye(t);){if(ut(t))return t;if(_e(t))return null;t=ie(t)}return null}function ct(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ye(e){return["html","body","#document"].includes(Ee(e))}function G(e){return X(e).getComputedStyle(e)}function We(e){return U(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ie(e){if(Ee(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vt(e)&&e.host||J(e);return vt(t)?t.host:t}function Xt(e){const t=ie(e);return ye(t)?e.ownerDocument?e.ownerDocument.body:e.body:K(t)&&$e(t)?t:Xt(t)}function Re(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=Xt(e),l=r===((o=e.ownerDocument)==null?void 0:o.body),i=X(r);if(l){const s=Ze(i);return t.concat(i,i.visualViewport||[],$e(r)?r:[],s&&n?Re(s):[])}return t.concat(r,Re(r,[],n))}function Ze(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ro(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:o}=t;return n+"/"+o}).join(" "):navigator.userAgent}const be=Math.min,W=Math.max,Ce=Math.round,Me=Math.floor,se=e=>({x:e,y:e}),lo={left:"right",right:"left",bottom:"top",top:"bottom"},io={start:"end",end:"start"};function wt(e,t,n){return W(e,be(t,n))}function Se(e,t){return typeof e=="function"?e(t):e}function ue(e){return e.split("-")[0]}function Ae(e){return e.split("-")[1]}function Gt(e){return e==="x"?"y":"x"}function zt(e){return e==="y"?"height":"width"}function me(e){return["top","bottom"].includes(ue(e))?"y":"x"}function Kt(e){return Gt(me(e))}function so(e,t,n){n===void 0&&(n=!1);const o=Ae(e),r=Kt(e),l=zt(r);let i=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(i=De(i)),[i,De(i)]}function uo(e){const t=De(e);return[et(e),t,et(t)]}function et(e){return e.replace(/start|end/g,t=>io[t])}function co(e,t,n){const o=["left","right"],r=["right","left"],l=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?r:o:t?o:r;case"left":case"right":return t?l:i;default:return[]}}function ao(e,t,n,o){const r=Ae(e);let l=co(ue(e),n==="start",o);return r&&(l=l.map(i=>i+"-"+r),t&&(l=l.concat(l.map(et)))),l}function De(e){return e.replace(/left|right|bottom|top/g,t=>lo[t])}function fo(e){return{top:0,right:0,bottom:0,left:0,...e}}function po(e){return typeof e!="number"?fo(e):{top:e,right:e,bottom:e,left:e}}function Ne(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function yt(e,t,n){let{reference:o,floating:r}=e;const l=me(t),i=Kt(t),s=zt(i),u=ue(t),f=l==="y",c=o.x+o.width/2-r.width/2,g=o.y+o.height/2-r.height/2,m=o[s]/2-r[s]/2;let d;switch(u){case"top":d={x:c,y:o.y-r.height};break;case"bottom":d={x:c,y:o.y+o.height};break;case"right":d={x:o.x+o.width,y:g};break;case"left":d={x:o.x-r.width,y:g};break;default:d={x:o.x,y:o.y}}switch(Ae(t)){case"start":d[i]-=m*(n&&f?-1:1);break;case"end":d[i]+=m*(n&&f?-1:1);break}return d}const mo=async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:l=[],platform:i}=n,s=l.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(t));let f=await i.getElementRects({reference:e,floating:t,strategy:r}),{x:c,y:g}=yt(f,o,u),m=o,d={},p=0;for(let h=0;h<s.length;h++){const{name:v,fn:w}=s[h],{x,y,data:R,reset:P}=await w({x:c,y:g,initialPlacement:o,placement:m,strategy:r,middlewareData:d,rects:f,platform:i,elements:{reference:e,floating:t}});c=x??c,g=y??g,d={...d,[v]:{...d[v],...R}},P&&p<=50&&(p++,typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(f=P.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:r}):P.rects),{x:c,y:g}=yt(f,m,u)),h=-1)}return{x:c,y:g,placement:m,strategy:r,middlewareData:d}};async function Ve(e,t){var n;t===void 0&&(t={});const{x:o,y:r,platform:l,rects:i,elements:s,strategy:u}=e,{boundary:f="clippingAncestors",rootBoundary:c="viewport",elementContext:g="floating",altBoundary:m=!1,padding:d=0}=Se(t,e),p=po(d),v=s[m?g==="floating"?"reference":"floating":g],w=Ne(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(v)))==null||n?v:v.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(s.floating)),boundary:f,rootBoundary:c,strategy:u})),x=g==="floating"?{x:o,y:r,width:i.floating.width,height:i.floating.height}:i.reference,y=await(l.getOffsetParent==null?void 0:l.getOffsetParent(s.floating)),R=await(l.isElement==null?void 0:l.isElement(y))?await(l.getScale==null?void 0:l.getScale(y))||{x:1,y:1}:{x:1,y:1},P=Ne(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:x,offsetParent:y,strategy:u}):x);return{top:(w.top-P.top+p.top)/R.y,bottom:(P.bottom-w.bottom+p.bottom)/R.y,left:(w.left-P.left+p.left)/R.x,right:(P.right-w.right+p.right)/R.x}}const go=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:l,rects:i,initialPlacement:s,platform:u,elements:f}=t,{mainAxis:c=!0,crossAxis:g=!0,fallbackPlacements:m,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:h=!0,...v}=Se(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const w=ue(r),x=me(s),y=ue(s)===s,R=await(u.isRTL==null?void 0:u.isRTL(f.floating)),P=m||(y||!h?[De(s)]:uo(s)),T=p!=="none";!m&&T&&P.push(...ao(s,h,p,R));const M=[s,...P],$=await Ve(t,v),B=[];let k=((o=l.flip)==null?void 0:o.overflows)||[];if(c&&B.push($[w]),g){const F=so(r,i,R);B.push($[F[0]],$[F[1]])}if(k=[...k,{placement:r,overflows:B}],!B.every(F=>F<=0)){var A,H;const F=(((A=l.flip)==null?void 0:A.index)||0)+1,V=M[F];if(V)return{data:{index:F,overflows:k},reset:{placement:V}};let N=(H=k.filter(_=>_.overflows[0]<=0).sort((_,E)=>_.overflows[1]-E.overflows[1])[0])==null?void 0:H.placement;if(!N)switch(d){case"bestFit":{var I;const _=(I=k.filter(E=>{if(T){const b=me(E.placement);return b===x||b==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(b=>b>0).reduce((b,S)=>b+S,0)]).sort((E,b)=>E[1]-b[1])[0])==null?void 0:I[0];_&&(N=_);break}case"initialPlacement":N=s;break}if(r!==N)return{reset:{placement:N}}}return{}}}};async function ho(e,t){const{placement:n,platform:o,elements:r}=e,l=await(o.isRTL==null?void 0:o.isRTL(r.floating)),i=ue(n),s=Ae(n),u=me(n)==="y",f=["left","top"].includes(i)?-1:1,c=l&&u?-1:1,g=Se(t,e);let{mainAxis:m,crossAxis:d,alignmentAxis:p}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return s&&typeof p=="number"&&(d=s==="end"?p*-1:p),u?{x:d*c,y:m*f}:{x:m*f,y:d*c}}const vo=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:l,placement:i,middlewareData:s}=t,u=await ho(t,e);return i===((n=s.offset)==null?void 0:n.placement)&&(o=s.arrow)!=null&&o.alignmentOffset?{}:{x:r+u.x,y:l+u.y,data:{...u,placement:i}}}}},wo=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:l=!0,crossAxis:i=!1,limiter:s={fn:v=>{let{x:w,y:x}=v;return{x:w,y:x}}},...u}=Se(e,t),f={x:n,y:o},c=await Ve(t,u),g=me(ue(r)),m=Gt(g);let d=f[m],p=f[g];if(l){const v=m==="y"?"top":"left",w=m==="y"?"bottom":"right",x=d+c[v],y=d-c[w];d=wt(x,d,y)}if(i){const v=g==="y"?"top":"left",w=g==="y"?"bottom":"right",x=p+c[v],y=p-c[w];p=wt(x,p,y)}const h=s.fn({...t,[m]:d,[g]:p});return{...h,data:{x:h.x-n,y:h.y-o,enabled:{[m]:l,[g]:i}}}}}},yo=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:r,rects:l,platform:i,elements:s}=t,{apply:u=()=>{},...f}=Se(e,t),c=await Ve(t,f),g=ue(r),m=Ae(r),d=me(r)==="y",{width:p,height:h}=l.floating;let v,w;g==="top"||g==="bottom"?(v=g,w=m===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(w=g,v=m==="end"?"top":"bottom");const x=h-c.top-c.bottom,y=p-c.left-c.right,R=be(h-c[v],x),P=be(p-c[w],y),T=!t.middlewareData.shift;let M=R,$=P;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&($=y),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(M=x),T&&!m){const k=W(c.left,0),A=W(c.right,0),H=W(c.top,0),I=W(c.bottom,0);d?$=p-2*(k!==0||A!==0?k+A:W(c.left,c.right)):M=h-2*(H!==0||I!==0?H+I:W(c.top,c.bottom))}await u({...t,availableWidth:$,availableHeight:M});const B=await i.getDimensions(s.floating);return p!==B.width||h!==B.height?{reset:{rects:!0}}:{}}}};function qt(e){const t=G(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=K(e),l=r?e.offsetWidth:n,i=r?e.offsetHeight:o,s=Ce(n)!==l||Ce(o)!==i;return s&&(n=l,o=i),{width:n,height:o,$:s}}function at(e){return U(e)?e:e.contextElement}function he(e){const t=at(e);if(!K(t))return se(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:l}=qt(t);let i=(l?Ce(n.width):n.width)/o,s=(l?Ce(n.height):n.height)/r;return(!i||!Number.isFinite(i))&&(i=1),(!s||!Number.isFinite(s))&&(s=1),{x:i,y:s}}const bo=se(0);function Jt(e){const t=X(e);return!ct()||!t.visualViewport?bo:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xo(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==X(e)?!1:t}function ge(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),l=at(e);let i=se(1);t&&(o?U(o)&&(i=he(o)):i=he(e));const s=xo(l,n,o)?Jt(l):se(0);let u=(r.left+s.x)/i.x,f=(r.top+s.y)/i.y,c=r.width/i.x,g=r.height/i.y;if(l){const m=X(l),d=o&&U(o)?X(o):o;let p=m,h=Ze(p);for(;h&&o&&d!==p;){const v=he(h),w=h.getBoundingClientRect(),x=G(h),y=w.left+(h.clientLeft+parseFloat(x.paddingLeft))*v.x,R=w.top+(h.clientTop+parseFloat(x.paddingTop))*v.y;u*=v.x,f*=v.y,c*=v.x,g*=v.y,u+=y,f+=R,p=X(h),h=Ze(p)}}return Ne({width:c,height:g,x:u,y:f})}function Eo(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const l=r==="fixed",i=J(o),s=t?_e(t.floating):!1;if(o===i||s&&l)return n;let u={scrollLeft:0,scrollTop:0},f=se(1);const c=se(0),g=K(o);if((g||!g&&!l)&&((Ee(o)!=="body"||$e(i))&&(u=We(o)),K(o))){const m=ge(o);f=he(o),c.x=m.x+o.clientLeft,c.y=m.y+o.clientTop}return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-u.scrollLeft*f.x+c.x,y:n.y*f.y-u.scrollTop*f.y+c.y}}function So(e){return Array.from(e.getClientRects())}function tt(e,t){const n=We(e).scrollLeft;return t?t.left+n:ge(J(e)).left+n}function Po(e){const t=J(e),n=We(e),o=e.ownerDocument.body,r=W(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),l=W(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let i=-n.scrollLeft+tt(e);const s=-n.scrollTop;return G(o).direction==="rtl"&&(i+=W(t.clientWidth,o.clientWidth)-r),{width:r,height:l,x:i,y:s}}function Ro(e,t){const n=X(e),o=J(e),r=n.visualViewport;let l=o.clientWidth,i=o.clientHeight,s=0,u=0;if(r){l=r.width,i=r.height;const f=ct();(!f||f&&t==="fixed")&&(s=r.offsetLeft,u=r.offsetTop)}return{width:l,height:i,x:s,y:u}}function Co(e,t){const n=ge(e,!0,t==="fixed"),o=n.top+e.clientTop,r=n.left+e.clientLeft,l=K(e)?he(e):se(1),i=e.clientWidth*l.x,s=e.clientHeight*l.y,u=r*l.x,f=o*l.y;return{width:i,height:s,x:u,y:f}}function bt(e,t,n){let o;if(t==="viewport")o=Ro(e,n);else if(t==="document")o=Po(J(e));else if(U(t))o=Co(t,n);else{const r=Jt(e);o={...t,x:t.x-r.x,y:t.y-r.y}}return Ne(o)}function Qt(e,t){const n=ie(e);return n===t||!U(n)||ye(n)?!1:G(n).position==="fixed"||Qt(n,t)}function To(e,t){const n=t.get(e);if(n)return n;let o=Re(e,[],!1).filter(s=>U(s)&&Ee(s)!=="body"),r=null;const l=G(e).position==="fixed";let i=l?ie(e):e;for(;U(i)&&!ye(i);){const s=G(i),u=ut(i);!u&&s.position==="fixed"&&(r=null),(l?!u&&!r:!u&&s.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||$e(i)&&!u&&Qt(e,i))?o=o.filter(c=>c!==i):r=s,i=ie(i)}return t.set(e,o),o}function $o(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const i=[...n==="clippingAncestors"?_e(t)?[]:To(t,this._c):[].concat(n),o],s=i[0],u=i.reduce((f,c)=>{const g=bt(t,c,r);return f.top=W(g.top,f.top),f.right=be(g.right,f.right),f.bottom=be(g.bottom,f.bottom),f.left=W(g.left,f.left),f},bt(t,s,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Ao(e){const{width:t,height:n}=qt(e);return{width:t,height:n}}function Oo(e,t,n){const o=K(t),r=J(t),l=n==="fixed",i=ge(e,!0,l,t);let s={scrollLeft:0,scrollTop:0};const u=se(0);if(o||!o&&!l)if((Ee(t)!=="body"||$e(r))&&(s=We(t)),o){const d=ge(t,!0,l,t);u.x=d.x+t.clientLeft,u.y=d.y+t.clientTop}else r&&(u.x=tt(r));let f=0,c=0;if(r&&!o&&!l){const d=r.getBoundingClientRect();c=d.top+s.scrollTop,f=d.left+s.scrollLeft-tt(r,d)}const g=i.left+s.scrollLeft-u.x-f,m=i.top+s.scrollTop-u.y-c;return{x:g,y:m,width:i.width,height:i.height}}function Xe(e){return G(e).position==="static"}function xt(e,t){if(!K(e)||G(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return J(e)===n&&(n=n.ownerDocument.body),n}function Zt(e,t){const n=X(e);if(_e(e))return n;if(!K(e)){let r=ie(e);for(;r&&!ye(r);){if(U(r)&&!Xe(r))return r;r=ie(r)}return n}let o=xt(e,t);for(;o&&no(o)&&Xe(o);)o=xt(o,t);return o&&ye(o)&&Xe(o)&&!ut(o)?n:o||oo(e)||n}const Mo=async function(e){const t=this.getOffsetParent||Zt,n=this.getDimensions,o=await n(e.floating);return{reference:Oo(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Fo(e){return G(e).direction==="rtl"}const Lo={convertOffsetParentRelativeRectToViewportRelativeRect:Eo,getDocumentElement:J,getClippingRect:$o,getOffsetParent:Zt,getElementRects:Mo,getClientRects:So,getDimensions:Ao,getScale:he,isElement:U,isRTL:Fo};function Io(e,t){let n=null,o;const r=J(e);function l(){var s;clearTimeout(o),(s=n)==null||s.disconnect(),n=null}function i(s,u){s===void 0&&(s=!1),u===void 0&&(u=1),l();const{left:f,top:c,width:g,height:m}=e.getBoundingClientRect();if(s||t(),!g||!m)return;const d=Me(c),p=Me(r.clientWidth-(f+g)),h=Me(r.clientHeight-(c+m)),v=Me(f),x={rootMargin:-d+"px "+-p+"px "+-h+"px "+-v+"px",threshold:W(0,be(1,u))||1};let y=!0;function R(P){const T=P[0].intersectionRatio;if(T!==u){if(!y)return i();T?i(!1,T):o=setTimeout(()=>{i(!1,1e-7)},1e3)}y=!1}try{n=new IntersectionObserver(R,{...x,root:r.ownerDocument})}catch{n=new IntersectionObserver(R,x)}n.observe(e)}return i(!0),l}function Do(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:l=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:u=!1}=o,f=at(e),c=r||l?[...f?Re(f):[],...Re(t)]:[];c.forEach(w=>{r&&w.addEventListener("scroll",n,{passive:!0}),l&&w.addEventListener("resize",n)});const g=f&&s?Io(f,n):null;let m=-1,d=null;i&&(d=new ResizeObserver(w=>{let[x]=w;x&&x.target===f&&d&&(d.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var y;(y=d)==null||y.observe(t)})),n()}),f&&!u&&d.observe(f),d.observe(t));let p,h=u?ge(e):null;u&&v();function v(){const w=ge(e);h&&(w.x!==h.x||w.y!==h.y||w.width!==h.width||w.height!==h.height)&&n(),h=w,p=requestAnimationFrame(v)}return n(),()=>{var w;c.forEach(x=>{r&&x.removeEventListener("scroll",n),l&&x.removeEventListener("resize",n)}),g?.(),(w=d)==null||w.disconnect(),d=null,u&&cancelAnimationFrame(p)}}const Ge=Ve,No=vo,ko=wo,Ho=go,Bo=yo,_o=(e,t,n)=>{const o=new Map,r={platform:Lo,...n},l={...r.platform,_c:o};return mo(e,t,{...r,platform:l})};var Fe=typeof document<"u"?a.useLayoutEffect:a.useEffect;function ke(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!ke(e[o],t[o]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,r[o]))return!1;for(o=n;o--!==0;){const l=r[o];if(!(l==="_owner"&&e.$$typeof)&&!ke(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function en(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Et(e,t){const n=en(e);return Math.round(t*n)/n}function ze(e){const t=a.useRef(e);return Fe(()=>{t.current=e}),t}function Wo(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:l,floating:i}={},transform:s=!0,whileElementsMounted:u,open:f}=e,[c,g]=a.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,d]=a.useState(o);ke(m,o)||d(o);const[p,h]=a.useState(null),[v,w]=a.useState(null),x=a.useCallback(E=>{E!==T.current&&(T.current=E,h(E))},[]),y=a.useCallback(E=>{E!==M.current&&(M.current=E,w(E))},[]),R=l||p,P=i||v,T=a.useRef(null),M=a.useRef(null),$=a.useRef(c),B=u!=null,k=ze(u),A=ze(r),H=ze(f),I=a.useCallback(()=>{if(!T.current||!M.current)return;const E={placement:t,strategy:n,middleware:m};A.current&&(E.platform=A.current),_o(T.current,M.current,E).then(b=>{const S={...b,isPositioned:H.current!==!1};F.current&&!ke($.current,S)&&($.current=S,ve.flushSync(()=>{g(S)}))})},[m,t,n,A,H]);Fe(()=>{f===!1&&$.current.isPositioned&&($.current.isPositioned=!1,g(E=>({...E,isPositioned:!1})))},[f]);const F=a.useRef(!1);Fe(()=>(F.current=!0,()=>{F.current=!1}),[]),Fe(()=>{if(R&&(T.current=R),P&&(M.current=P),R&&P){if(k.current)return k.current(R,P,I);I()}},[R,P,I,k,B]);const V=a.useMemo(()=>({reference:T,floating:M,setReference:x,setFloating:y}),[x,y]),N=a.useMemo(()=>({reference:R,floating:P}),[R,P]),_=a.useMemo(()=>{const E={position:n,left:0,top:0};if(!N.floating)return E;const b=Et(N.floating,c.x),S=Et(N.floating,c.y);return s?{...E,transform:"translate("+b+"px, "+S+"px)",...en(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:b,top:S}},[n,s,N.floating,c.x,c.y]);return a.useMemo(()=>({...c,update:I,refs:V,elements:N,floatingStyles:_}),[c,I,V,N,_])}const tn=(e,t)=>({...No(e),options:[e,t]}),Vo=(e,t)=>({...ko(e),options:[e,t]}),Uo=(e,t)=>({...Ho(e),options:[e,t]}),jo=(e,t)=>({...Bo(e),options:[e,t]}),nn={...mn},Yo=nn.useInsertionEffect,Xo=Yo||(e=>e());function on(e){const t=a.useRef(()=>{});return Xo(()=>{t.current=e}),a.useCallback(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t.current==null?void 0:t.current(...o)},[])}var nt=typeof document<"u"?a.useLayoutEffect:a.useEffect;let St=!1,Go=0;const Pt=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Go++;function zo(){const[e,t]=a.useState(()=>St?Pt():void 0);return nt(()=>{e==null&&t(Pt())},[]),a.useEffect(()=>{St=!0},[]),e}const Ko=nn.useId,qo=Ko||zo;function Jo(){const e=new Map;return{emit(t,n){var o;(o=e.get(t))==null||o.forEach(r=>r(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var o;e.set(t,((o=e.get(t))==null?void 0:o.filter(r=>r!==n))||[])}}}const Qo=a.createContext(null),Zo=a.createContext(null),er=()=>{var e;return((e=a.useContext(Qo))==null?void 0:e.id)||null},tr=()=>a.useContext(Zo),nr="data-floating-ui-focusable";function or(e){const{open:t=!1,onOpenChange:n,elements:o}=e,r=qo(),l=a.useRef({}),[i]=a.useState(()=>Jo()),s=er()!=null,[u,f]=a.useState(o.reference),c=on((d,p,h)=>{l.current.openEvent=d?p:void 0,i.emit("openchange",{open:d,event:p,reason:h,nested:s}),n?.(d,p,h)}),g=a.useMemo(()=>({setPositionReference:f}),[]),m=a.useMemo(()=>({reference:u||o.reference||null,floating:o.floating||null,domReference:o.reference}),[u,o.reference,o.floating]);return a.useMemo(()=>({dataRef:l,open:t,onOpenChange:c,elements:m,events:i,floatingId:r,refs:g}),[t,c,m,i,r,g])}function rr(e){e===void 0&&(e={});const{nodeId:t}=e,n=or({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||n,r=o.elements,[l,i]=a.useState(null),[s,u]=a.useState(null),c=r?.reference||l,g=a.useRef(null),m=tr();nt(()=>{c&&(g.current=c)},[c]);const d=Wo({...e,elements:{...r,...s&&{reference:s}}}),p=a.useCallback(y=>{const R=U(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;u(R),d.refs.setReference(R)},[d.refs]),h=a.useCallback(y=>{(U(y)||y===null)&&(g.current=y,i(y)),(U(d.refs.reference.current)||d.refs.reference.current===null||y!==null&&!U(y))&&d.refs.setReference(y)},[d.refs]),v=a.useMemo(()=>({...d.refs,setReference:h,setPositionReference:p,domReference:g}),[d.refs,h,p]),w=a.useMemo(()=>({...d.elements,domReference:c}),[d.elements,c]),x=a.useMemo(()=>({...d,...o,refs:v,elements:w,nodeId:t}),[d,v,w,t,o]);return nt(()=>{o.dataRef.current.floatingContext=x;const y=m?.nodesRef.current.find(R=>R.id===t);y&&(y.context=x)}),a.useMemo(()=>({...d,context:x,refs:v,elements:w}),[d,v,w,x])}const Rt="active",Ct="selected";function Ke(e,t,n){const o=new Map,r=n==="item";let l=e;if(r&&e){const{[Rt]:i,[Ct]:s,...u}=e;l=u}return{...n==="floating"&&{tabIndex:-1,[nr]:""},...l,...t.map(i=>{const s=i?i[n]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((i,s)=>(s&&Object.entries(s).forEach(u=>{let[f,c]=u;if(!(r&&[Rt,Ct].includes(f)))if(f.indexOf("on")===0){if(o.has(f)||o.set(f,[]),typeof c=="function"){var g;(g=o.get(f))==null||g.push(c),i[f]=function(){for(var m,d=arguments.length,p=new Array(d),h=0;h<d;h++)p[h]=arguments[h];return(m=o.get(f))==null?void 0:m.map(v=>v(...p)).find(v=>v!==void 0)}}}else i[f]=c}),i),{})}}function lr(e){e===void 0&&(e=[]);const t=e.map(s=>s?.reference),n=e.map(s=>s?.floating),o=e.map(s=>s?.item),r=a.useCallback(s=>Ke(s,e,"reference"),t),l=a.useCallback(s=>Ke(s,e,"floating"),n),i=a.useCallback(s=>Ke(s,e,"item"),o);return a.useMemo(()=>({getReferenceProps:r,getFloatingProps:l,getItemProps:i}),[r,l,i])}function Tt(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const ir=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:o,onFallbackChange:r,offset:l=0,index:i=0,minItemsVisible:s=4,referenceOverflowThreshold:u=0,scrollRef:f,...c}=Se(e,t),{rects:g,elements:{floating:m}}=t,d=n.current[i],p=f?.current||m,h=m.clientTop||p.clientTop,v=m.clientTop!==0,w=p.clientTop!==0,x=m===p;if(!d)return{};const y={...t,...await tn(-d.offsetTop-m.clientTop-g.reference.height/2-d.offsetHeight/2-l).fn(t)},R=await Ge(Tt(y,p.scrollHeight+h+m.clientTop),c),P=await Ge(y,{...c,elementContext:"reference"}),T=W(0,R.top),M=y.y+T,$=Ce(W(0,p.scrollHeight+(v&&x||w?h*2:0)-T-W(0,R.bottom)));if(p.style.maxHeight=$+"px",p.scrollTop=T,r){const B=p.scrollHeight>p.offsetHeight&&p.offsetHeight<d.offsetHeight*s-1||P.top>=-u||P.bottom>=-u;ve.flushSync(()=>r(B))}return o&&(o.current=await Ge(Tt({...y,y:M},p.offsetHeight+h+m.clientTop),c)),{y:M}}});function sr(e,t){const{open:n,elements:o}=e,{enabled:r=!0,overflowRef:l,scrollRef:i,onChange:s}=t,u=on(s),f=a.useRef(!1),c=a.useRef(null),g=a.useRef(null);a.useEffect(()=>{if(!r)return;function d(h){if(h.ctrlKey||!p||l.current==null)return;const v=h.deltaY,w=l.current.top>=-.5,x=l.current.bottom>=-.5,y=p.scrollHeight-p.clientHeight,R=v<0?-1:1,P=v<0?"max":"min";p.scrollHeight<=p.clientHeight||(!w&&v>0||!x&&v<0?(h.preventDefault(),ve.flushSync(()=>{u(T=>T+Math[P](v,y*R))})):/firefox/i.test(ro())&&(p.scrollTop+=v))}const p=i?.current||o.floating;if(n&&p)return p.addEventListener("wheel",d),requestAnimationFrame(()=>{c.current=p.scrollTop,l.current!=null&&(g.current={...l.current})}),()=>{c.current=null,g.current=null,p.removeEventListener("wheel",d)}},[r,n,o.floating,l,i,u]);const m=a.useMemo(()=>({onKeyDown(){f.current=!0},onWheel(){f.current=!1},onPointerMove(){f.current=!1},onScroll(){const d=i?.current||o.floating;if(!(!l.current||!d||!f.current)){if(c.current!==null){const p=d.scrollTop-c.current;(l.current.bottom<-.5&&p<-1||l.current.top<-.5&&p>1)&&ve.flushSync(()=>u(h=>h+p))}requestAnimationFrame(()=>{c.current=d.scrollTop})}}}),[o.floating,u,l,i]);return a.useMemo(()=>r?{floating:m}:{},[r,m])}let Oe=a.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Oe.displayName="FloatingContext";let ft=a.createContext(null);ft.displayName="PlacementContext";function ur(e){return a.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function cr(){return a.useContext(Oe).setReference}function ar(){let{getFloatingProps:e,slot:t}=a.useContext(Oe);return a.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function fr(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=a.useContext(ft),n=a.useMemo(()=>e,[JSON.stringify(e,typeof HTMLElement<"u"?(r,l)=>l instanceof HTMLElement?l.outerHTML:l:void 0)]);z(()=>{t?.(n??null)},[t,n]);let o=a.useContext(Oe);return a.useMemo(()=>[o.setFloating,e?o.styles:{}],[o.setFloating,e,o.styles])}let $t=4;function dr({children:e,enabled:t=!0}){let[n,o]=a.useState(null),[r,l]=a.useState(0),i=a.useRef(null),[s,u]=a.useState(null);pr(s);let f=t&&n!==null&&s!==null,{to:c="bottom",gap:g=0,offset:m=0,padding:d=0,inner:p}=mr(n,s),[h,v="center"]=c.split(" ");z(()=>{f&&l(0)},[f]);let{refs:w,floatingStyles:x,context:y}=rr({open:f,placement:h==="selection"?v==="center"?"bottom":`bottom-${v}`:v==="center"?`${h}`:`${h}-${v}`,strategy:"absolute",transform:!1,middleware:[tn({mainAxis:h==="selection"?0:g,crossAxis:m}),Vo({padding:d}),h!=="selection"&&Uo({padding:d}),h==="selection"&&p?ir({...p,padding:d,overflowRef:i,offset:r,minItemsVisible:$t,referenceOverflowThreshold:d,onFallbackChange(A){var H,I;if(!A)return;let F=y.elements.floating;if(!F)return;let V=parseFloat(getComputedStyle(F).scrollPaddingBottom)||0,N=Math.min($t,F.childElementCount),_=0,E=0;for(let b of(I=(H=y.elements.floating)==null?void 0:H.childNodes)!=null?I:[])if(b instanceof HTMLElement){let S=b.offsetTop,D=S+b.clientHeight+V,O=F.scrollTop,j=O+F.clientHeight;if(S>=O&&D<=j)N--;else{E=Math.max(0,Math.min(D,j)-Math.max(S,O)),_=b.clientHeight;break}}N>=1&&l(b=>{let S=_*N-E+V;return b>=S?b:S})}}):null,jo({padding:d,apply({availableWidth:A,availableHeight:H,elements:I}){Object.assign(I.floating.style,{overflow:"auto",maxWidth:`${A}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${H}px)`})}})].filter(Boolean),whileElementsMounted:Do}),[R=h,P=v]=y.placement.split("-");h==="selection"&&(R="selection");let T=a.useMemo(()=>({anchor:[R,P].filter(Boolean).join(" ")}),[R,P]),M=sr(y,{overflowRef:i,onChange:l}),{getReferenceProps:$,getFloatingProps:B}=lr([M]),k=L(A=>{u(A),w.setFloating(A)});return a.createElement(ft.Provider,{value:o},a.createElement(Oe.Provider,{value:{setFloating:k,setReference:w.setReference,styles:x,getReferenceProps:$,getFloatingProps:B,slot:T}},e))}function pr(e){z(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,o=parseFloat(n);if(isNaN(o))return;let r=parseInt(n);isNaN(r)||o!==r&&(e.style.maxHeight=`${Math.ceil(o)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function mr(e,t){var n,o,r;let l=qe((n=e?.gap)!=null?n:"var(--anchor-gap, 0)",t),i=qe((o=e?.offset)!=null?o:"var(--anchor-offset, 0)",t),s=qe((r=e?.padding)!=null?r:"var(--anchor-padding, 0)",t);return{...e,gap:l,offset:i,padding:s}}function qe(e,t,n=void 0){let o=lt(),r=L((u,f)=>{if(u==null)return[n,null];if(typeof u=="number")return[u,null];if(typeof u=="string"){if(!f)return[n,null];let c=At(u,f);return[c,g=>{let m=rn(u);{let d=m.map(p=>window.getComputedStyle(f).getPropertyValue(p));o.requestAnimationFrame(function p(){o.nextFrame(p);let h=!1;for(let[w,x]of m.entries()){let y=window.getComputedStyle(f).getPropertyValue(x);if(d[w]!==y){d[w]=y,h=!0;break}}if(!h)return;let v=At(u,f);c!==v&&(g(v),c=v)})}return o.dispose}]}return[n,null]}),l=a.useMemo(()=>r(e,t)[0],[e,t]),[i=l,s]=a.useState();return z(()=>{let[u,f]=r(e,t);if(s(u),!!f)return f(s)},[e,t]),i}function rn(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let o=t[1].slice(0,n).trim(),r=t[1].slice(n+1).trim();return r?[o,...rn(r)]:[o]}return[]}function At(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let o=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),o}function gr(e){let t=L(e),n=a.useRef(!1);a.useEffect(()=>(n.current=!1,()=>{n.current=!0,vn(()=>{n.current&&t()})}),[t])}let hr=a.createContext(!1);function vr(){return a.useContext(hr)}function wr(e){let t=vr(),n=a.useContext(sn),o=xe(e),[r,l]=a.useState(()=>{var i;if(!t&&n!==null)return(i=n.current)!=null?i:null;if(rt.isServer)return null;let s=o?.getElementById("headlessui-portal-root");if(s)return s;if(o===null)return null;let u=o.createElement("div");return u.setAttribute("id","headlessui-portal-root"),o.body.appendChild(u)});return a.useEffect(()=>{r!==null&&(o!=null&&o.body.contains(r)||o==null||o.body.appendChild(r))},[r,o]),a.useEffect(()=>{t||n!==null&&l(n.current)},[n,l,t]),r}let ln=a.Fragment,yr=q(function(e,t){let n=e,o=a.useRef(null),r=te(Ot(c=>{o.current=c}),t),l=xe(o),i=wr(o),[s]=a.useState(()=>{var c;return rt.isServer?null:(c=l?.createElement("div"))!=null?c:null}),u=a.useContext(ot),f=wn();return z(()=>{!i||!s||i.contains(s)||(s.setAttribute("data-headlessui-portal",""),i.appendChild(s))},[i,s]),z(()=>{if(s&&u)return u.register(s)},[u,s]),gr(()=>{var c;!i||!s||(s instanceof Node&&i.contains(s)&&i.removeChild(s),i.childNodes.length<=0&&((c=i.parentElement)==null||c.removeChild(i)))}),f?!i||!s?null:ve.createPortal(ne({ourProps:{ref:r},theirProps:n,slot:{},defaultTag:ln,name:"Portal"}),s):null});function br(e,t){let n=te(t),{enabled:o=!0,...r}=e;return o?C.createElement(yr,{...r,ref:n}):ne({ourProps:{ref:n},theirProps:r,slot:{},defaultTag:ln,name:"Portal"})}let xr=a.Fragment,sn=a.createContext(null);function Er(e,t){let{target:n,...o}=e,r={ref:te(t)};return C.createElement(sn.Provider,{value:n},ne({ourProps:r,theirProps:o,defaultTag:xr,name:"Popover.Group"}))}let ot=a.createContext(null);function Sr(){let e=a.useContext(ot),t=a.useRef([]),n=L(l=>(t.current.push(l),e&&e.register(l),()=>o(l))),o=L(l=>{let i=t.current.indexOf(l);i!==-1&&t.current.splice(i,1),e&&e.unregister(l)}),r=a.useMemo(()=>({register:n,unregister:o,portals:t}),[n,o,t]);return[t,a.useMemo(()=>function({children:l}){return C.createElement(ot.Provider,{value:r},l)},[r])]}let Pr=q(br),Rr=q(Er),Cr=Object.assign(Pr,{Group:Rr});function Tr({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let o=xe(n),r=L(()=>{var l,i;let s=[];for(let u of e)u!==null&&(u instanceof HTMLElement?s.push(u):"current"in u&&u.current instanceof HTMLElement&&s.push(u.current));if(t!=null&&t.current)for(let u of t.current)s.push(u);for(let u of(l=o?.querySelectorAll("html > *, body > *"))!=null?l:[])u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u.id!=="headlessui-portal-root"&&(n&&(u.contains(n)||u.contains((i=n?.getRootNode())==null?void 0:i.host))||s.some(f=>u.contains(f))||s.push(u));return s});return{resolveContainers:r,contains:L(l=>r().some(i=>i.contains(l)))}}let un=a.createContext(null);function cn({children:e,node:t}){let[n,o]=a.useState(null),r=an(t??n);return C.createElement(un.Provider,{value:r},e,r===null&&C.createElement(pe,{features:le.Hidden,ref:l=>{var i,s;if(l){for(let u of(s=(i=Te(l))==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?s:[])if(u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u!=null&&u.contains(l)){o(u);break}}}}))}function an(e=null){var t;return(t=a.useContext(un))!=null?t:e}var ee=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ee||{});function fn(){let e=a.useRef(0);return jt(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}var $r=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))($r||{}),Ar=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(Ar||{});let Or={0:e=>({...e,popoverState:re(e.popoverState,{0:1,1:0}),__demoMode:!1}),1(e){return e.popoverState===1?e:{...e,popoverState:1,__demoMode:!1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},dt=a.createContext(null);dt.displayName="PopoverContext";function Ue(e){let t=a.useContext(dt);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ue),n}return t}let je=a.createContext(null);je.displayName="PopoverAPIContext";function pt(e){let t=a.useContext(je);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,pt),n}return t}let mt=a.createContext(null);mt.displayName="PopoverGroupContext";function dn(){return a.useContext(mt)}let Ye=a.createContext(null);Ye.displayName="PopoverPanelContext";function Mr(){return a.useContext(Ye)}function Fr(e,t){return re(t.type,Or,e,t)}let Lr="div";function Ir(e,t){var n;let{__demoMode:o=!1,...r}=e,l=a.useRef(null),i=te(t,Ot(E=>{l.current=E})),s=a.useRef([]),u=a.useReducer(Fr,{__demoMode:o,popoverState:o?0:1,buttons:s,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:a.createRef(),afterPanelSentinel:a.createRef(),afterButtonSentinel:a.createRef()}),[{popoverState:f,button:c,buttonId:g,panel:m,panelId:d,beforePanelSentinel:p,afterPanelSentinel:h,afterButtonSentinel:v},w]=u,x=xe((n=l.current)!=null?n:c),y=a.useMemo(()=>{if(!c||!m)return!1;for(let Y of document.querySelectorAll("body > *"))if(Number(Y?.contains(c))^Number(Y?.contains(m)))return!0;let E=He(),b=E.indexOf(c),S=(b+E.length-1)%E.length,D=(b+1)%E.length,O=E[S],j=E[D];return!m.contains(O)&&!m.contains(j)},[c,m]),R=de(g),P=de(d),T=a.useMemo(()=>({buttonId:R,panelId:P,close:()=>w({type:1})}),[R,P,w]),M=dn(),$=M?.registerPopover,B=L(()=>{var E;return(E=M?.isFocusWithinPopoverGroup())!=null?E:x?.activeElement&&(c?.contains(x.activeElement)||m?.contains(x.activeElement))});a.useEffect(()=>$?.(T),[$,T]);let[k,A]=Sr(),H=an(c),I=Tr({mainTreeNode:H,portals:k,defaultContainers:[c,m]});zn(x?.defaultView,"focus",E=>{var b,S,D,O,j,Y;E.target!==window&&E.target instanceof HTMLElement&&f===0&&(B()||c&&m&&(I.contains(E.target)||(S=(b=p.current)==null?void 0:b.contains)!=null&&S.call(b,E.target)||(O=(D=h.current)==null?void 0:D.contains)!=null&&O.call(D,E.target)||(Y=(j=v.current)==null?void 0:j.contains)!=null&&Y.call(j,E.target)||w({type:1})))},!0),Gn(f===0,I.resolveContainers,(E,b)=>{w({type:1}),Vt(b,st.Loose)||(E.preventDefault(),c?.focus())});let F=L(E=>{w({type:1});let b=E?E instanceof HTMLElement?E:"current"in E&&E.current instanceof HTMLElement?E.current:c:c;b?.focus()}),V=a.useMemo(()=>({close:F,isPortalled:y}),[F,y]),N=a.useMemo(()=>({open:f===0,close:F}),[f,F]),_={ref:i};return C.createElement(cn,{node:H},C.createElement(dr,null,C.createElement(Ye.Provider,{value:null},C.createElement(dt.Provider,{value:u},C.createElement(je.Provider,{value:V},C.createElement(Fn,{value:F},C.createElement(yn,{value:re(f,{0:we.Open,1:we.Closed})},C.createElement(A,null,ne({ourProps:_,theirProps:r,slot:N,defaultTag:Lr,name:"Popover"})))))))))}let Dr="button";function Nr(e,t){let n=a.useId(),{id:o=`headlessui-popover-button-${n}`,disabled:r=!1,autoFocus:l=!1,...i}=e,[s,u]=Ue("Popover.Button"),{isPortalled:f}=pt("Popover.Button"),c=a.useRef(null),g=`headlessui-focus-sentinel-${a.useId()}`,m=dn(),d=m?.closeOthers,p=Mr()!==null;a.useEffect(()=>{if(!p)return u({type:3,buttonId:o}),()=>{u({type:3,buttonId:null})}},[p,o,u]);let[h]=a.useState(()=>Symbol()),v=te(c,t,cr(),p?null:L(b=>{if(b)s.buttons.current.push(h);else{let S=s.buttons.current.indexOf(h);S!==-1&&s.buttons.current.splice(S,1)}s.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),b&&u({type:2,button:b})})),w=te(c,t),x=xe(c),y=L(b=>{var S,D,O;if(p){if(s.popoverState===1)return;switch(b.key){case oe.Space:case oe.Enter:b.preventDefault(),(D=(S=b.target).click)==null||D.call(S),u({type:1}),(O=s.button)==null||O.focus();break}}else switch(b.key){case oe.Space:case oe.Enter:b.preventDefault(),b.stopPropagation(),s.popoverState===1&&d?.(s.buttonId),u({type:0});break;case oe.Escape:if(s.popoverState!==0)return d?.(s.buttonId);if(!c.current||x!=null&&x.activeElement&&!c.current.contains(x.activeElement))return;b.preventDefault(),b.stopPropagation(),u({type:1});break}}),R=L(b=>{p||b.key===oe.Space&&b.preventDefault()}),P=L(b=>{var S,D;Ht(b.currentTarget)||r||(p?(u({type:1}),(S=s.button)==null||S.focus()):(b.preventDefault(),b.stopPropagation(),s.popoverState===1&&d?.(s.buttonId),u({type:0}),(D=s.button)==null||D.focus()))}),T=L(b=>{b.preventDefault(),b.stopPropagation()}),{isFocusVisible:M,focusProps:$}=xn({autoFocus:l}),{isHovered:B,hoverProps:k}=En({isDisabled:r}),{pressed:A,pressProps:H}=Rn({disabled:r}),I=s.popoverState===0,F=a.useMemo(()=>({open:I,active:A||I,disabled:r,hover:B,focus:M,autofocus:l}),[I,B,M,A,r,l]),V=Kn(e,s.button),N=p?Je({ref:w,type:V,onKeyDown:y,onClick:P,disabled:r||void 0,autoFocus:l},$,k,H):Je({ref:v,id:s.buttonId,type:V,"aria-expanded":s.popoverState===0,"aria-controls":s.panel?s.panelId:void 0,disabled:r||void 0,autoFocus:l,onKeyDown:y,onKeyUp:R,onClick:P,onMouseDown:T},$,k,H),_=fn(),E=L(()=>{let b=s.panel;if(!b)return;function S(){re(_.current,{[ee.Forwards]:()=>ae(b,Z.First),[ee.Backwards]:()=>ae(b,Z.Last)})===Ie.Error&&ae(He().filter(D=>D.dataset.headlessuiFocusGuard!=="true"),re(_.current,{[ee.Forwards]:Z.Next,[ee.Backwards]:Z.Previous}),{relativeTo:s.button})}S()});return C.createElement(C.Fragment,null,ne({ourProps:N,theirProps:i,slot:F,defaultTag:Dr,name:"Popover.Button"}),I&&!p&&f&&C.createElement(pe,{id:g,ref:s.afterButtonSentinel,features:le.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:E}))}let kr="div",Hr=Le.RenderStrategy|Le.Static;function pn(e,t){let n=a.useId(),{id:o=`headlessui-popover-backdrop-${n}`,transition:r=!1,...l}=e,[{popoverState:i},s]=Ue("Popover.Backdrop"),[u,f]=a.useState(null),c=te(t,f),g=Mt(),[m,d]=Ft(r,u,g!==null?(g&we.Open)===we.Open:i===0),p=L(w=>{if(Ht(w.currentTarget))return w.preventDefault();s({type:1})}),h=a.useMemo(()=>({open:i===0}),[i]),v={ref:c,id:o,"aria-hidden":!0,onClick:p,...Lt(d)};return ne({ourProps:v,theirProps:l,slot:h,defaultTag:kr,features:Hr,visible:m,name:"Popover.Backdrop"})}let Br="div",_r=Le.RenderStrategy|Le.Static;function Wr(e,t){let n=a.useId(),{id:o=`headlessui-popover-panel-${n}`,focus:r=!1,anchor:l,portal:i=!1,modal:s=!1,transition:u=!1,...f}=e,[c,g]=Ue("Popover.Panel"),{close:m,isPortalled:d}=pt("Popover.Panel"),p=`headlessui-focus-sentinel-before-${n}`,h=`headlessui-focus-sentinel-after-${n}`,v=a.useRef(null),w=ur(l),[x,y]=fr(w),R=ar();w&&(i=!0);let[P,T]=a.useState(null),M=te(v,t,w?x:null,L(S=>g({type:4,panel:S})),T),$=xe(v),B=hn();z(()=>(g({type:5,panelId:o}),()=>{g({type:5,panelId:null})}),[o,g]);let k=Mt(),[A,H]=Ft(u,P,k!==null?(k&we.Open)===we.Open:c.popoverState===0);kn(A,c.button,()=>{g({type:1})});let I=c.__demoMode?!1:s&&A;to(I,$);let F=L(S=>{var D;switch(S.key){case oe.Escape:if(c.popoverState!==0||!v.current||$!=null&&$.activeElement&&!v.current.contains($.activeElement))return;S.preventDefault(),S.stopPropagation(),g({type:1}),(D=c.button)==null||D.focus();break}});a.useEffect(()=>{var S;e.static||c.popoverState===1&&((S=e.unmount)==null||S)&&g({type:4,panel:null})},[c.popoverState,e.unmount,e.static,g]),a.useEffect(()=>{if(c.__demoMode||!r||c.popoverState!==0||!v.current)return;let S=$?.activeElement;v.current.contains(S)||ae(v.current,Z.First)},[c.__demoMode,r,v.current,c.popoverState]);let V=a.useMemo(()=>({open:c.popoverState===0,close:m}),[c.popoverState,m]),N=Je(w?R():{},{ref:M,id:o,onKeyDown:F,onBlur:r&&c.popoverState===0?S=>{var D,O,j,Y,ce;let Q=S.relatedTarget;Q&&v.current&&((D=v.current)!=null&&D.contains(Q)||(g({type:1}),((j=(O=c.beforePanelSentinel.current)==null?void 0:O.contains)!=null&&j.call(O,Q)||(ce=(Y=c.afterPanelSentinel.current)==null?void 0:Y.contains)!=null&&ce.call(Y,Q))&&Q.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...f.style,...y,"--button-width":In(c.button,!0).width},...Lt(H)}),_=fn(),E=L(()=>{let S=v.current;if(!S)return;function D(){re(_.current,{[ee.Forwards]:()=>{var O;ae(S,Z.First)===Ie.Error&&((O=c.afterPanelSentinel.current)==null||O.focus())},[ee.Backwards]:()=>{var O;(O=c.button)==null||O.focus({preventScroll:!0})}})}D()}),b=L(()=>{let S=v.current;if(!S)return;function D(){re(_.current,{[ee.Forwards]:()=>{if(!c.button)return;let O=He(),j=O.indexOf(c.button),Y=O.slice(0,j+1),ce=[...O.slice(j+1),...Y];for(let Q of ce.slice())if(Q.dataset.headlessuiFocusGuard==="true"||P!=null&&P.contains(Q)){let gt=ce.indexOf(Q);gt!==-1&&ce.splice(gt,1)}ae(ce,Z.First,{sorted:!1})},[ee.Backwards]:()=>{var O;ae(S,Z.Previous)===Ie.Error&&((O=c.button)==null||O.focus())}})}D()});return C.createElement(bn,null,C.createElement(Ye.Provider,{value:o},C.createElement(je.Provider,{value:{close:m,isPortalled:d}},C.createElement(Cr,{enabled:i?e.static||A:!1},A&&d&&C.createElement(pe,{id:p,ref:c.beforePanelSentinel,features:le.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:E}),ne({mergeRefs:B,ourProps:N,theirProps:f,slot:V,defaultTag:Br,features:_r,visible:A,name:"Popover.Panel"}),A&&d&&C.createElement(pe,{id:h,ref:c.afterPanelSentinel,features:le.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:b})))))}let Vr="div";function Ur(e,t){let n=a.useRef(null),o=te(n,t),[r,l]=a.useState([]),i=L(p=>{l(h=>{let v=h.indexOf(p);if(v!==-1){let w=h.slice();return w.splice(v,1),w}return h})}),s=L(p=>(l(h=>[...h,p]),()=>i(p))),u=L(()=>{var p;let h=Te(n);if(!h)return!1;let v=h.activeElement;return(p=n.current)!=null&&p.contains(v)?!0:r.some(w=>{var x,y;return((x=h.getElementById(w.buttonId.current))==null?void 0:x.contains(v))||((y=h.getElementById(w.panelId.current))==null?void 0:y.contains(v))})}),f=L(p=>{for(let h of r)h.buttonId.current!==p&&h.close()}),c=a.useMemo(()=>({registerPopover:s,unregisterPopover:i,isFocusWithinPopoverGroup:u,closeOthers:f}),[s,i,u,f]),g=a.useMemo(()=>({}),[]),m=e,d={ref:o};return C.createElement(cn,null,C.createElement(mt.Provider,{value:c},ne({ourProps:d,theirProps:m,slot:g,defaultTag:Vr,name:"Popover.Group"})))}let jr=q(Ir),Yr=q(Nr),Xr=q(pn),Gr=q(pn),zr=q(Wr),Kr=q(Ur),sl=Object.assign(jr,{Button:Yr,Backdrop:Gr,Overlay:Xr,Panel:zr,Group:Kr});export{Yr as A,zr as R,tl as T,rl as W,sl as a,Kn as e,ll as j,nl as l,oe as o,ol as p,Ht as r,Rn as w};
